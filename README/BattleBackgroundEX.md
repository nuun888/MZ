# [戦闘背景変更](https://raw.githubusercontent.com/nuun888/MZ/master/NUUN_BattleBackgroundEX.js)
# Ver.1.2.2
[ダウンロード](https://raw.githubusercontent.com/nuun888/MZ/master/NUUN_BattleBackgroundEX.js)  
#### 必須、前提プラグイン
[共通処理](https://github.com/nuun888/MZ/blob/master/README/Base.md)  

戦闘背景をリージョン、地形タグによって変更及び、敵グループごとに設定することが出来ます。  
フィールドマップで設定されている戦闘背景を任意の画像に変更できます。  
ファイルを指定してない場合は、元の戦闘背景が表示されます。  

### 敵グループ毎に個別に変更
敵グループのバトルイベントの１ページ目に注釈(Comment)で記入。  
`<battleBack:[id]>`  
この敵グループの戦闘背景はリストで設定した番号[id]番の戦闘背景になります。  

### リージョンまたは地形タグにより変更
マップのメモ欄に記入  
`<regionBattleBack:[regionId],[id]>`  
エンカウント時、現在位置のリージョンIDが[regionId]の時、戦闘背景はリストで設定した番号[id]番の戦闘背景になります。  
`<tagBattleBack:[tagId],[id]>`  
エンカウント時、現在位置の地形タグIDが[tagId]の時、戦闘背景はリストで設定した番号[id]番の戦闘背景になります。  

### オートタイルのIDにより変更
フィールドマップではオートタイルのIDにより戦闘背景が変更されます。  
オートタイルでの戦闘背景を任意の背景に変更できます。  
()内はデフォルトのオートタイルのWorld_A1.txt及び、World_A2.txt内に記載している名前です。  

### 戦闘中に変更
通常のイベントコマンドの戦闘背景の変更では、戦闘中に戦闘背景の変更を行っても変化しません。  
プラグインコマンドの戦闘背景変更を実行することで、戦闘中でも背景の変更が適用されます。  

### その他
優先度は通常の戦闘背景→地形タグ→リージョンID→敵グループとなります。  

イベントコマンドで戦闘背景を変更した後で、`<battleBack><regionBattleBack>``<tagBattleBack>`タグによって戦闘背景が変更された場合、  
イベントコマンドで変更した戦闘背景よりも優先して表示されます。  
  
## 更新履歴
2024/9/17 Ver.1.2.2  
リージョン、タグでのバトル背景が適用されていなかった問題を修正。  
2023/7/22 Ver.1.2.1  
背景Y座標とモンスターのY座標を同期させる機能を追加。  
2022/12/11 Ver.1.2.0  
背景設定の仕様を変更。  
日本語以外での表示を英語表示に変更。  
2021/11/5 Ver.1.1.1  
バトル背景サイズ調整の仕様を変更。  
2021/6/27 Ver.1.1.0  
背景画像の位置を調整する機能を追加。  
戦闘中に戦闘背景を変更できる機能を追加。  
2020/12/2 Ver.1.0.1  
テスト戦闘でエラーが出る不具合を修正。  
2020/12/2 Ver.1.0.0  
初版  
