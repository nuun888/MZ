# [リザルト](https://raw.githubusercontent.com/nuun888/MZ/master/NUUN_Result.js)
# Ver.2.4.1
[ダウンロード](https://raw.githubusercontent.com/nuun888/MZ/master/NUUN_Result.js)  
#### 必須プラグイン
[共通処理](https://raw.githubusercontent.com/nuun888/MZ/master/NUUN_Base.js) 
#### 拡張プラグイン
[リザルト時ウィンドウスプライト非表示](https://github.com/nuun888/MZ/blob/master/README/ResultSpriteHide.md) Ver.1.0.0  
[MVPアクター](https://github.com/nuun888/MZ/blob/master/README/ResultMVPActor.md) Ver.1.0.0  

## 概要
戦闘終了時にリザルト画面を表示します。  
デフォルトのリザルトはメッセージウィンドウで表示されますが、入手EXP、獲得金額、ドロップアイテムを１画面にし、レベルアップしたアクターがいない場合は決定キー（ボタン）を１回押しただけでリザルトが終了します。  

#### 主な機能
ブロックごとに分かれており、アクター経験値、入手インフォ、ドロップアイテム、レベルアップアクターステータス、習得スキルごとに表示する座標を指定できます。  
アクター経験値、入手インフォ、ドロップアイテム、レベルアップアクターステータス、習得スキルは項目ごとに座標、フォントサイズ等の変更ができます。  
戦闘終了後、勝利MEが流れた後に任意のBGMを再生できます。  

### 勝利後エフェクト
エフェクトは画像を指定しないと適用されません.  
画像は画像中心を起点に画面中央に表示されます。  
拡大率、不透明度は元の値(拡大率は100、不透明度は255)から指定します。現在の値から相対で指定の値まで変化します。  
移動座標は現在の位置からの相対で移動します。  

### サークルゲージ
獲得経験値のゲージをサークル型にします。  
表示するには[サークルゲージ](https://github.com/nuun888/MZ/blob/master/README/CircularGauge.md)が必要です。  

![画像](img/Result30.png)<br>
![画像](img/Result31.png)<br>
![画像](img/Result29.png)<br>

#### 各項目の設定の評価式
a:アクターのゲームデータ  
d:アクターのデータベースデータ  

### 一部のアイテムをドロップリストに表示しない
アイテムのメモ欄  
`<NoResultDropList>` アイテム入手のドロップリストに表示しません。  

※右クリックはページ切り替えのみです。戻す機能は実装しておりません。  

## 更新履歴
2024/6/16 Ver.2.4.1  
入手アイテム及び盗めたアイテムで別の同じIDの個数の表示が加算される問題を修正。  
2024/5/26 Ver.2.4.0  
経験値ゲージを円形ゲージにする機能を追加。  
経験値ゲージの表示にレベルを表示する機能を追加。  
経験値ゲージのラベルの色を指定できる機能を追加。  
経験値ゲージの小数点数の表示が正常に行われていなかった問題を修正。  
2024/3/31 Ver.2.3.11  
サイドビュー表示に関する処理の修正。  
2023/11/4 Ver.2.3.10  
ドロップリストに武器、防具が表示されない問題を修正。  
2023/7/21 Ver.2.3.9  
ドロップアイテムリストに表示させないアイテムを設定できる機能を追加。  
隠しアイテムを表示しないように修正。  
2023/6/18 Ver.2.3.8  
入手画面のアクター表示のラインが機能していなかった問題を修正。  
2023/5/6 Ver.2.3.7  
サイドビューアクター、キャラチップの表示位置を修正。  
2023/4/23 Ver.2.3.6  
スキルツリープラグインとの競合対策。  
最大レベル時の獲得した経験値を0で表示するように修正。  
2023/4/16 Ver.2.3.5  
勝利BGMを設定してないと戦闘終了時にエラーが出る問題を修正。  
2023/3/10 Ver.2.3.4
システムカラー0番が指定できない問題を修正。  
2023/2/23 Ver.2.3.3  
レベルアップ画面のスキップが機能していなかった問題を修正。  
2023/1/28 Ver.2.3.2  
勝利後リザルト画面遅延フレーム数がMEの再生フレーム以下の設定だとMEのBGM再生位置の設定が適用されない問題を修正。  
2023/1/28 Ver.2.3.1  
勝利MEの途中でBGMを再生させる機能を追加。  
2023/1/9 Ver.2.3.0  
勝利後にリザルトを表示させないスイッチを指定できる機能を追加。  
勝利後のモーションをしないスイッチを指定できる機能を追加。  
2022/12/6 Ver.2.2.13  
カラー指定のプラグインパラメータのTypeをcolorに変更。(コアスクリプトVer.1.6.0以降)  
2022/12/4 Ver.2.2.12  
日本語以外での表示を英語表示に変更。  
2022/11/1 Ver.2.2.11  
レベルアップ時に表示される文字を画像で表示する機能を追加。  
2022/10/23 Ver.2.2.10  
HPゲージ等が動かなくなる問題を修正。  
2022/10/23 Ver.2.2.9  
旧レベルのステータスが正常に取得されなかった問題を修正。  
2022/10/22 Ver.2.2.8  
獲得経験値表示を残り経験値で表示できるモードを追加。  
2022/10/22 Ver.2.2.7  
座標計算の修正。  
2022/10/21 Ver.2.2.6  
一部の項目が表示されなくなる問題を修正。  
2022/10/20 Ver.2.2.5  
勝利後エフェクトの画像が消えない問題を修正。  
レベルアップアクターステータスウィンドウでオリジナルパラメータを選択するとエラーが出る問題を修正。  
勝利後リザルト画面遅延フレーム数を設定すると戦闘終了後動作が止まる問題を修正。  
スペルミス修正。  
2022/10/19 Ver.2.2.4  
ゲージの表示が固定された状態になる問題を修正。  
2022/10/14 Ver.2.2.3  
2回目の戦闘以降で勝利後エフェクトが表示されなくなる問題を修正。  
2022/10/13 Ver.2.2.2  
戦闘開始後にエラーが出る問題を修正。  
勝利後画像を指定せずにエフェクトリストを設定すると戦闘勝利後に動作しなくなる問題を修正。  
2022/10/11 Ver.2.2.1  
勝利時の画像表示を有効にするスイッチを指定できる機能を追加。  
2022/10/10 Ver.2.2.0  
勝利後に勝利時の画像を表示する機能を追加。  
2022/9/18 Ver.2.1.0  
獲得経験値ウィンドウに立ち絵を指定できる機能を追加。  
レベルアップ後再戦闘時にレベルアップしていないアクターにレベルアップが表示されてしまう問題を修正。  
2022/9/17 Ver.2.0.6  
EXPゲージの色を指定できる機能を追加。  
入手ウィンドウ設定のウィンドウ表示をOFFにすると背景画像が表示されなくなる問題を修正。  
2022/9/11 Ver.1.1.0  
BattleVoiceMZによるMVPアクターのみボイスを再生する機能を追加。(要BattleVoiceMZ)  
2022/9/11 Ver.2.0.4  
戦闘開始時にエラーが出る問題を修正。  
端数処理四捨五入が機能しない問題を修正。  
2022/9/11 Ver.2.0.3  
MVPアクアー対応への定義修正。  
2022/9/10 Ver.2.0.2  
経験値ブーストの色が黒い色で表示されてしまう問題を修正。  
2022/9/10 Ver.2.0.1  
戦闘終了時にエラーが出る問題を修正。  
レベルアップアクターステータスウィンドウの項目の初期設定にアクター名を追加。  
サポートアクターが表示されない問題を修正。  
2022/9/9 Ver.2.0.0  
全面改修。  
2022/7/3 Ver.1.15.1  
レベルアップ時の差分処理を修正。  
レベルアップ差分ステータスに装備補正等なしのパラメータを指定できる機能を追加。  
2022/7/2 Ver.1.15.0  
盗んだアイテムを表示する機能を追加。  
EXPゲージがはみ出る問題を修正。  
獲得経験値ゲージX座標の仕様変更。(下限0)  
2022/5/12 Ver.1.14.6  
レベルアップ画面表示時戦闘結果テキストを空白指定しなときに何も表示しないように変更。  
2022/5/3 Ver.1.14.5  
スキル習得一覧とレベルアップ差分表示が重なってしまう問題を修正。  
2022/5/1 Ver.1.14.4  
EXP獲得ゲージの座標を調整できる機能を追加。  
2022/4/26 Ver.1.14.3  
レベルアップ画面のレベルの差分表示の幅を指定できる機能を追加。  
2022/1/1 Ver.1.14.2  
一部処理を修正。  
2021/12/17 Ver.1.14.1  
立ち絵、顔グラEXで画像表示時の画像開始地点を設定できる機能を追加。  
入手項目の設定でオリジナル項目が表示しない問題を修正。  
2021/12/15 Ver.1.14.0  
ドロップアイテムを個数表示に表示できる機能を追加。  
立ち絵、顔グラ表示EXに対応。  
2021/11/26 Ver.1.13.1  
背景画像を設定するとレベルアップ画面で操作ができなくなる問題を修正。  
レベルアップ画面のメインウィンドウにスキンを設定できる機能を追加。  
2021/11/6 Ver.1.13.0  
レベルアップ画面のヘルプウィンドウにレベルアップ時のテキストを表示させる機能を追加。  
2021/9/19 Ver.1.12.4  
コアスクリプトVer.1.3.3による修正。  
2021/8/9 Ver.1.12.3  
サポートアクターを表示するように修正。  
2021/8/7 Ver.1.12.2  
控えメンバーを表示する機能を追加。  
2021/7/31 Ver.1.12.1  
競合対策  
2021/7/10 Ver.1.12.0  
ウィンドウの処理を変更。（レベルアップ画面では戦闘結果ウィンドウを表示しないように変更しました）  
レベルアップ時のアクター毎にウィンドウスキン又は背景画像を指定できる機能を追加。  
画像ロードの処理を修正。  
左クリックでのページ送りを廃止。  
2021/7/4 Ver.1.11.1  
戦闘終了時にコマンド選択中のアクターのモーションが正常に表示されない問題を修正。  
2021/7/2 Ver.1.11.0  
戦闘結果の設定を空白にしたときにundefinedと表示されてしまう問題を修正。  
レベルアップのアクター切り替え時にSEを指定できる機能を追加。  
リザルト画面表示までの待機フレーム中のサイドビューアクターの処理を変更。  
リザルト画面をフェードインさせて表示する機能を追加。  
背景画像をフェードインさせて表示させるように変更。  
2021/6/29 Ver.1.10.3  
アクターを複数列に設定したとき２列目以降のアクターの獲得経験値が表示されない問題を修正。  
アクターを複数列に設定したときにアクターの表示枠の高さに列数が考慮していなかった問題を修正。  
2021/6/27 Ver.1.10.2  
入手画面のアクターを複数列に表示する機能を追加。  
2021/6/13 Ver.1.10.1  
入手アイテムの文字が枠内からはみ出てしまう問題を修正。  
2021/6/13 Ver.1.10.0  
アクターの獲得経験値表示を表示しない機能を追加。  
メンバーによってアクターの獲得経験値表示の縦幅を調整する機能を追加。  
2021/6/6 Ver.1.9.2  
顔グラ以外でアクター画像の表示横幅が反映されていなかった問題を修正。  
2021/6/6 Ver.1.9.1  
アクター画像に合わせてアクター名、獲得経験値の座標を調整するように修正。  
キャラ画像が表示されない問題を修正。  
2021/6/5 Ver.1.9.0  
サイドビューアクターを表示できる機能を追加。  
戦闘終了後からリザルト表示までコマンドなどのウィンドウを閉じるように修正。  
2021/5/18 Ver.1.8.1  
戦闘中にメンバーチェンジをした際、交代前メンバーのEXPゲージが残ってしまう問題を修正。  
2021/5/15 Ver.1.8.0  
リザルトの表示を遅延させる機能を追加。  
各ウィンドウ毎にスキンを設定できる機能を追加。  
2021/5/4 Ver.1.7.5  
旧バージョンからアップデートした後にリザルト画面が表示されるとエラーが出る問題を修正。  
2021/5/4 Ver.1.7.4  
レベルアップ画面で顔グラを非表示にした際に、線を非表示にする機能を追加。  
2021/5/3 Ver.1.7.3  
背景画像を指定して立ち絵を設定していないアクターがレベルアップしたときにエラーが出る問題を修正。  
背景画像を指定してレベルアップするとアクター立ち絵がキャラ切り替えのたびにサイズがおかしくなってしてしまう問題を修正。  
2021/4/24 Ver.1.7.2  
Ver.1.7.1以前のバージョンから立ち絵を設定した状態でアップデートすると戦闘終了時にエラーが出る問題を修正。  
2021/4/23 Ver.1.7.1  
プラグインコマンドでアクター立ち絵を変更できる機能を追加。  
背景画像、アクター画像のフォルダーを指定できるように変更。  
レベルアップ画面のアクター画像を設定してリザルト表示後すぐにレベルアップ画面に移行するとエラーが出る問題を修正。  
2021/4/11 Ver.1.7.0  
レベルアップ画面のステータスを任意に表示できるように変更。  
レベルアップ画面のステータスとオリジナルパラメータの表示を統合。  
2021/3/25 Ver.1.6.8  
ウィンドウのX座標をマイナスに設定できるように変更。  
レベルアップ画面の背景画像が参照されないエラーを修正。  
2021/3/24 Ver.1.6.7  
「共通処理」(NUUN_Base)を導入していないとエラーが出る問題を修正。  
2021/3/19 Ver.1.6.6  
リザルト表示時のアクターステータスウィンドウを閉じる選択項目を追加。  
2021/3/17 Ver.1.6.5  
アクター画像の参照先が変更されていなかった問題を修正。  
2021/3/14 Ver.1.6.4  
背景画像設定時の立ち絵の表示方法を変更。  
リザルト画面のX座標を調整できる機能を追加。  
ウィンドウのY座標を変更したときにボタンの表示位置も移動しない問題を修正。  
フォルダーの参照先を変更。  
2021/3/13 Ver.1.6.3  
表示アクター設定を未入力の状態でゲームを開始するとエラーが出る問題を修正。  
2021/3/13 Ver.1.6.2  
立ち絵を変更した後にセーブしたデータをロードをロードすると変更した画像が反映されない問題を修正。  
2021/3/12 Ver.1.6.1  
立ち絵を新規に設定した後にセーブしたデータをロードすると画像が表示されない問題を修正。  
2021/3/12 Ver.1.6.0  
レベルアップ画面に立ち絵を表示する機能を追加。  
2021/3/11 Ver.1.5.1  
獲得経験値を非表示にできる機能を追加。  
レベルアップの位置を指定、調整できる機能を追加。(座標指定チェックのみ)  
プラグインコマンドでレベルアップSEを変更できる機能を追加。  
拡大率による高さ調整が顔グラモードではなくキャラチップモードで反映されていた問題を修正。  
入手画面のアクター表示（アクター画像、アクター名、レベル、EXP）のY座標を調整できる機能を追加。  
2021/3/9 Ver.1.5.0  
獲得金額、独自パラメータの設定方法を変更。  
戦闘結果の文字の表示位置を左、中央、右から選択し表示できる機能を追加。  
2021/3/8 Ver.1.4.7  
リザルトウィンドウのY座標を変更したとき、ウィンドウがサイズ変更してしまう問題を修正。  
アクター名・レベル・経験値のフォントサイズで負の数値を入力できなかった問題を修正。  
ゲージ現在値のフォントサイズの計算が間違っていたので修正。  
2021/3/7 Ver.1.4.6  
ドロップアイテム、習得スキルに色を付ける機能を追加。  
入手画面のアクター名、レベル、獲得経験値のフォントサイスを変更できるように変更。  
入手画面の獲得経験値、EXPゲージのY位置を指定できる機能を追加。  
プラグインパラメータ「勝利BGM」に勝利MEを再生させない機能を追加。  
入手画面の経験値バーの現在値にフォントサイズを指定できるように変更。  
タッチUIがOFFの時にウィンドウの表示範囲を上に詰める機能を追加。  
リザルトウィンドウY座標を調整できる機能を追加。  
線の色を変えられる機能を追加。  
2021/3/6 Ver.1.4.5  
獲得経験率に変化があった時、EXPゲージ、数値の更新フレームが正常に動作していない問題を修正。  
拡大率を顔グラモード以外適用しないように修正。  
レベルアップ画面のステータス差分で差がなかった数値の色がシステムカラーになっていた問題を修正。  
2021/3/5 Ver.1.4.4  
レベルアップ、レベルアップした時のレベル、レベルアップ後のレベル、ステータスの色を指定できる機能を追加。  
獲得経験率により通常の獲得経験値よりも多い又は少ない時に、数値に色付け出来る機能を追加。  
戦闘不能アクターの名前を赤く表示するように変更。  
リザルト画面を開いた後、次のページを切り替えるまでの待機フレームを設定する機能を追加。
背景画像がボタンの前面に表示されてしまう問題を修正。  
2021/3/4 Ver.1.4.3  
獲得経験値が0の時にレベルが表示されない問題を修正。  
獲得金額が0の時に金額が表示されない問題を修正。  
2021/3/4 Ver.1.4.2  
獲得経験値が0の時に獲得経験値が表示されない問題を修正。  
獲得経験値が0の時に現在経験値の数値にNaNが表示される問題を修正。  
次のレベルまでの必要経験値のY座標計算に問題が生じたためユーザー側がY座標を調整できるように変更。  
2021/3/3 Ver.1.4.1  
決定キーを押しっぱなしで戦闘を終了するとリザルトウィンドウがすぐに閉じてしまう問題を修正。  
ドロップアイテム、習得スキルのページ切り替えを押しっぱなしで切り替えられるように修正。  
2021/3/2 Ver.1.4.0  
背景画像を表示できる機能を追加。  
ウィンドウ幅を0以外にしたときにドロップアイテム、習得スキルの表示位置がずれる問題を修正。 
ウィンドウ幅を0以外にしたときにボタンが右端に来るよう修正。  
2021/3/1 Ver.1.3.1  
戦闘勝利後のBGMを設定できるプラグインコマンドを追加。  
2021/3/1 Ver.1.3.0  
勝利ME後に任意のBGMを再生する機能を追加。  
プラグインコマンドでレベルアップ画面を表示を許可する機能を追加。(注：このプラグインコマンドを実行後レベルアップ画面表示の設定が無効化されます）  
2021/3/1 Ver.1.2.1  
EXPゲージの数値を百分率表記にする機能を追加。  
最大レベルの時にゲージがMAXになるよう修正。  
2021/3/1 Ver.1.2.0  
EXPゲージに数値を表示する機能を追加。  
2021/2/28 Ver.1.1.1  
フォントサイズを変更したとき、経験値名称と獲得経験値の文字が被る問題を修正。  
入手画面のアクター名、レベル、経験値のフォントサイズが２２未満の時反映されるように変更。  
2021/2/28 Ver.1.1.0  
獲得金額の下に独自パラメータを表示する機能を追加。  
レベルアップ画面に独自パラメータを表示する機能を追加。  
レベルアップした時に表示するレベルアップ画面をカットする機能を追加。  
レベルアップ画面のレベルのレベルアップ後の数値を色付け。  
ドロップアイテムリストの表示が若干早く表示されていた問題を修正。  
レベルアップ表示で表示横幅のアクター表示拡大率を考慮されていなかった問題を修正。  
2021/2/28 Ver.1.0.2  
アクター画像の設置方法を変更。  
レベルアップ画面のアクター名がシステムカラーになっていたので修正。  
ゲージの更新フレーム時間を設定できる機能を追加。  
2021/2/27 Ver.1.0.1  
レベルの表示幅を修正。  
レベルアップステータスのレベルアップ後のステータスに色付け。  
右クリックでページ送りを出来るように変更。  
2021/2/27 Ver.1.0.0  
初版。  
